## 1. はじめに

このドキュメントは、「Skyscraper 新開発計画書 v1.2」で再定義されたMVP（Minimum Viable Product）から、v1.0.0の公式リリースに至るまでの具体的な開発ロードマップを定義するものです。

すべての開発は**「プロジェクト憲法 v3.4」**に厳密に従うものとします。

### 開発戦略の再確認

- **UIとロジックの分離**: まず機能の「ロジック」を実装・テストし、その後に「UI」を接続するフェーズ分離開発を徹底します。
    
- **段階的リリース**: 各バージョンで明確な価値を提供し、着実に機能を積み上げていきます。
    
- **定期的なビルド**: バージョンが更新されるたびに`flutter build apk --debug`を行う

# 2. MVPロードマップ (v0.1.x 〜 v1.0.0)

## **フェーズ1: コアロジック層の構築**

### v0.1.x: プロジェクト基盤の構築

アプリケーション開発の土台を準備します。

|バージョン|主要タスク|
|---|---|
|**v0.1.0**|**プロジェクトの初期化**: 憲法v3.2に基づき、パッケージ、ディレクトリ、静的解析などを設定する。|
|**v0.1.1**|**ルーティングの骨格**: `go_router`を使い、アプリの画面遷移の最小構成を作成する。|

### v0.2.x: ユーザー認証ロジック

ユーザーがアプリにログイン・ログアウトするためのバックエンドロジックを実装します。

|バージョン|主要タスク|
|---|---|
|**v0.2.0**|**認証API層**: `bluesky_service`にログインAPIを実装し、テストする。|
|**v0.2.1**|**認証リポジトリ層**: セッションの保存・取得ロジックを実装し、テストする。|
|**v0.2.2**|**認証プロバイダー層**: 認証状態を管理する`AuthNotifier`を実装し、テストする。|

### v0.3.x: タイムライン表示ロジック

タイムラインの投稿データを取得し、アプリ内で扱えるようにするためのロジックを実装します。

|バージョン|主要タスク|
|---|---|
|**v0.3.0**|**内部データモデル**: `freezed`を使い、アプリ内部で使う`Post`モデルを作成する。|
|**v0.3.1**|**タイムラインリポジトリ層**: タイムラインAPIを呼び出し、内部モデルへ変換するロジックを実装し、テストする。|
|**v0.3.2**|**タイムラインプロバイダー層**: 投稿リストを管理する`TimelineNotifier`（無限スクロール含む）を実装し、テストする。|

## **フェーズ2: UIプレゼンテーション層の構築**

### ✅ v0.4.x: MVP達成 - 「ログインしてタイムラインを閲覧できる」

フェーズ1で作成したロジックにUIを接続し、ユーザーが実際に操作できる最初のバージョンを完成させます。

| バージョン      | 主要タスク                                                                                |
| ---------- | ------------------------------------------------------------------------------------ |
| **v0.4.0** | **認証UIの実装**: `login_screen.dart`を作成し、`auth_provider`と接続してログイン機能を完成させる。               |
| **v0.4.1** | **タイムラインUIの最小実装**: `home_screen.dart`を作成し、`timeline_provider`と接続してテキストベースの投稿一覧を表示する。 |
| v0.4.2     | **UIの基盤を構築する**: `UI基盤構築タスクリスト.md`のタスクを完了する                                           |

### v0.5.x: UI基盤の構築と改善

MVPで実装した最小限のUIを、本格的なアプリケーションの見た目に進化させます。

|バージョン|主要タスク|
|---|---|
|**v0.5.0**|**メインUIシェルの実装**: `go_router`の`ShellRoute`を使い、ボトムナビゲーションバー（ホーム、検索、通知、プロフィール）を持つメイン画面の骨格を作成する。|
|**v0.5.1**|**`PostCard`ウィジェットの実装**: 投稿一つ分を表示する、再利用可能な`PostCard`ウィジェットを作成する。この時点では静的な表示のみ。|
|**v0.5.2**|**タイムラインUIの改善**: `v0.4.1`の`ListTile`表示を、`PostCard`ウィジェットを使ったリッチな表示に置き換える。アバター画像なども表示する。|
|**v0.5.3**|**`PostCard`のウィジェットテスト**: `PostCard`に様々なモックデータを与え、正しく表示されることを確認するウィジェットテストを作成する。|

### v0.6.x: コア・インタラクション機能の実装

ユーザーが投稿に対して反応できるようにします。

|バージョン|主要タスク|
|---|---|
|**v0.6.0**|**いいね機能**: `PostCard`に「いいね」ボタンを実装し、`timeline_provider`の`toggleLike`メソッドと接続する。Optimistic UIを実装し、UIが即時反映されるようにする。|
|**v0.6.1**|**リポスト機能**: 「リポスト」ボタンを実装し、同様にProviderと接続する。UIも即時反映させる。|

### v0.7.x: 投稿機能の実装

ユーザーが情報を発信できるようにします。

|バージョン|主要タスク|
|---|---|
|**v0.7.0**|**テキスト投稿機能**: `create_post_screen.dart`を作成し、テキストのみの投稿ができるようにする。投稿成功後はタイムラインが自動更新されるようにする。|
|**v0.7.1**|**画像投稿機能**: 投稿作成画面に画像選択機能（4枚まで）を追加し、画像付きで投稿できるようにする。|

### v0.8.x: コンテンツの深掘り機能

タイムラインを眺めるだけでなく、会話を追えるようにします。

|バージョン|主要タスク|
|---|---|
|**v0.8.0**|**投稿詳細画面**: `PostCard`をタップすると、その投稿とリプライ（スレッド）の一覧が表示される`post_detail_screen.dart`を実装する。|
|**v0.8.1**|**リプライ機能**: 投稿詳細画面から、特定の投稿に対してリプライを投稿できるようにする。|
|**v0.8.2**|**引用リポスト機能**: 投稿作成画面に、他の投稿を引用する機能を追加する。|

### v0.9.x: 主要画面の完成

アプリケーションの全体像を完成させます。

|バージョン|主要タスク|
|---|---|
|**v0.9.0**|**通知画面**: `notifications_screen.dart`を実装し、いいね、リポスト、リプライ、フォローなどの通知を一覧で表示する。|
|**v0.9.1**|**プロフィール画面**: `profile_screen.dart`を実装し、ユーザーの情報や投稿一覧を表示する。フォロー/アンフォローボタンも実装する。|
|**v0.9.2**|**検索画面**: `search_screen.dart`を実装し、まずはユーザー検索ができるようにする。|

### v1.0.0: 正式リリース

| バージョン      | 主要タスク                                                                                                         |     |
| ---------- | ------------------------------------------------------------------------------------------------------------- | --- |
| **v1.0.0** | **リリース準備**: 全体的なUI/UXの磨き込み、パフォーマンスチューニング、バグの修正、テストカバレッジの向上、`README.md`や`CHANGELOG.md`の清書など、公式リリースに向けた最終調整を行う。 |     |